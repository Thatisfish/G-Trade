.J_cartPage {
	/* ===== Page padding（頁面內距） ===== */
	padding: 140px 0 120px;

	@media (max-width: 1024px) {
		padding: 140px 45px 50px;
	}

	@media (max-width: 900px) {
		padding: 100px clamp(15px, 5vw, 45px) 50px;
	}

	@media (max-width: 640px) {
		padding: 80px 8px 30px;
	}

	/* ===== Title（標題） ===== */
	.J_cartTitle {
		color: #de1a10;
		font-size: 25px;
		line-height: 150%;
		text-align: center;
		margin-bottom: 20px;

		@media (max-width: 640px) {
			margin-bottom: 10px;
		}
	}

	/* ===== Container（容器） ===== */
	.J_cartContainer {
		display: flex;
		gap: 5%;
		max-width: 80%;
		margin: 0 auto;

		@media (max-width: 1024px) {
			flex-direction: column;
			gap: 4px;
			max-width: 100%;
			width: 100%;
			padding: 8px;
			margin: 0;

			.J_cartLeft,
			.J_cartRight {
				flex: none;
				width: 100%;
				padding: 0;
			}

			.J_cartRight {
				display: flex;
				justify-content: center;
				margin-top: 12px;
				width: 100%;
			}
		}
	}

	/* 左側 / 右側欄位 */
	.J_cartLeft {
		flex: 2;
		display: flex;
		flex-direction: column;
		gap: 20px;
	}

	.J_cartRight {
		flex: 1;
	}

	/* === 共用佔位（placeholder）=== */
	%cart-sectionA {
		display: flex;
		align-items: center;
		justify-content: space-between;
		gap: 16px;
		width: 100%;
		min-height: 36px;
		flex-wrap: nowrap;
		/* ← 預設單行，不輕易換行 */

		&__left {
			display: inline-flex;
			align-items: center;
			gap: 10px;
			flex: 1 1 0;
			/* ← 可縮 */
			min-width: 0;
			/* ← 允許被擠，避免提前換行 */

			.J_storeCheck {
				display: flex;
				align-items: center;

				input {
					margin: 0;
					/* 去掉預設外距 */
					vertical-align: middle;
					/* 與文字、icon 對齊 */
				}
			}

			img {
				width: 24px;
				height: 24px;
				object-fit: contain;
				flex: 0 0 auto;
				display: block;
			}

			.J_storeName {
				font-size: 16px;
				font-weight: 700;
				color: #D5140B;
				line-height: 1.2;
				white-space: nowrap;
				/* 店名不拆行 */
			}
		}

		&__right {
			display: inline-flex;
			align-items: center;
			gap: 10px;
			flex: 0 0 auto;

			.J_clearBtn {
				border: 1px solid #cfcfcf;
				background: #f7f7f7;
				border-radius: 8px;
				padding: 6px 10px;
				font-size: 14px;
				cursor: pointer;

				&:hover {
					background: #fff;
					box-shadow: 0 1px 3px rgba(0, 0, 0, .12);
				}

				&:active {
					transform: translateY(1px);
				}
			}
		}

		@media (max-width: 640px) {
			gap: 8px;
			flex-wrap: wrap;
			/* ← 手機才允許換行 */

			&__left {
				flex: 1 1 60%;
			}

			&__right {
				flex: 1 1 40%;
				justify-content: flex-end;
			}
		}
	}

	%cart-sectionTitle {
		font-size: 16px;
		font-weight: bold;
		margin-bottom: 10px;
		border: none;
		color: #D5140B;
		display: inline-flex;
		align-items: center;
		gap: 12px;

		img {
			width: 20px;
			height: 20px;
		}
	}

	/* ===== 共用區塊 ===== */
	.J_cartSection {
		background: #fff;
		padding: 30px;
		border-radius: 20px;
		box-shadow: 0 2px 8px rgba(0, 0, 0, .1);

		@media (max-width: 640px) {
			padding: 24px;
		}

		.J_cartSectionA {
			@extend %cart-sectionA;
		}

		.J_sectionTitle {
			@extend %cart-sectionTitle;
		}
	}

	/* 另一種內距版本 */
	.J_cartSection2 {
		background: #fff;
		padding: 30px 50px 30px 70px;
		border-radius: 20px;
		box-shadow: 0 2px 8px rgba(0, 0, 0, .1);

		@media (max-width: 640px) {
			padding: 24px;
		}

		.J_cartSectionA {
			@extend %cart-sectionA;
		}

		.J_sectionTitle {
			@extend %cart-sectionTitle;
		}
	}

	/* ===== 商品清單（items） ===== */
	.J_cartItem {
		display: flex;
		flex-direction: column;
		gap: 8px;
		padding: 8px 0;
		border-bottom: 1px solid #eee;

		input {
			margin: 0;
			width: 16px;
			height: 16px;
		}

		.ctn {
			display: flex;
			align-items: center;
			gap: 12px;
		}

		.ct {
			display: flex;
			align-items: center;
			gap: 15px;

			.J_product {
				display: flex;
				gap: 12px;
				align-items: center;

					/* 讓產品區塊撐滿剩餘空間，將數量與刪除按鈕推到右側並保持對齊 */
					flex: 1 1 0;
					min-width: 0; /* 允許內部文字收縮，避免換行 */

				.pif {
					display: flex;
					width: auto;
					align-items: center;
					gap: 12px;
				}

				img {
					width: 80px;
					height: 80px;
					object-fit: cover;
				}
			}
		}

		@media (max-width: 640px) {
			.ct{
				gap: 12px;

				.J_product {
					// flex-direction: column;
					gap: 8px;
					
					img {
						margin: 0 auto;
					}
				}
			}
		}

		.J_itemInfo {
			flex: 1;

			.J_itemTitle {
				font-size: 14px;
				margin-bottom: 4px;
			}

			.J_itemPrice {
				color: #e60023;
				font-size: 14px;
			}
		}

		.J_itemQty {
					font-size: 14px;
					max-width: 48px;
					width: 28px;
					text-align: right;
		}

		.J_deleteBtn {
			background: none;
			border: none;
			cursor: pointer;
					flex: 0 0 auto;
					margin-left: 12px;

			img {
				width: 15px;
				height: 20px;
			}
		}

		&:last-child {
			border-bottom: none;
		}
	}

	/* ===== 運送（shipping） & 付款（payment） ===== */
	.J_shippingOptions,
	.J_paymentOptions {
		display: flex;
		flex-direction: column;
		gap: 10px;
		font-size: 14px;

		img {
			width: 40px;
			height: 40px;
		}

		.J_optionGroup {
			display: inline-flex;
			align-items: center;
			gap: clamp(10px, 4vw, 50px);
			margin-bottom: 15px;
			flex-wrap: wrap;

			@media (max-width: 1496px) {
				flex-direction: column;
				align-items: flex-start;
				gap: 20px;
			}

			label {
				display: flex;
				align-items: center;
				gap: 12px;
				cursor: pointer;

				input {
					margin-right: 5px;
				}
			}

			.J_storeInf {
				.J_other {
					color: #343434;
				}
			}
		}
	}

	.J_paymentOptions {
		flex-direction: row;
		gap: 50px;
		padding: 20px 0 10px;
		flex-wrap: wrap;

		@media (max-width: 1496px) {
			flex-direction: column;
			gap: 20px;
		}

		label {
			display: flex;
			align-items: center;
			gap: 8px;
			font-size: 14px;
			cursor: pointer;

			img {
				width: 26px;
				height: 26px;
			}

			.J_LINEPAY {
				width: 30px;
				height: 30px;
			}

			.J_JKOPay {
				width: 30px;
				height: 30px;
			}
		}
	}

	/* ===== 備註（notes） ===== */
	.J_notes {
		display: flex;
		gap: 25px;
		margin: auto;

		h3 {
			color: #000;
			font-size: 25px;
			font-weight: 600;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		textarea {
			border: 2px solid #b5b5b5;
			border-radius: 10px;
			padding: 10px;
			min-height: 120px;
			resize: none;
			outline: none;
			max-width: 625px;
			width: 100%;
			font-size: 16px;
			font-weight: 350;
			line-height: 150%;
		}
	}

	/* ===== 結帳摘要（summary） ===== */
	.J_cartSummary {
		width: 250px;
		background: #fff;
		padding: 12px 20px 20px 20px;
		border-radius: 20px;
		box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);

		p {
			display: flex;
			justify-content: space-between;
			margin: 20px 0;
			font-size: 20px;
			color: #de1a10;
		}

		.J_total {
			font-size: 20px;
			color: #de1a10;
		}

		.J_checkoutBtn {
			background: #de1a10;
			color: #fff;
			width: 155px;
			font-size: 16px;
			border-color: #a12424;
			border-radius: 999px;
			padding: 8px 8px;
			cursor: pointer;
			display: block;
			margin: 12px auto 0; /* 置中 */

			.J_checkoutContent {
				display: flex;
				align-items: center;
				justify-content: center;
			}

			.J_Checkout {
				width: 85%;
			}

			&:hover {
				box-shadow: 2px 4px 5px rgba(0, 0, 0, 0.25);
			}

			&:active {
				background: #fff;
				color: #de1a10;
			}
		}

		@media (max-width: 1024px) {
			width: 60%;
			padding: 8px 20px 20px;

			p {
				font-size: 16px;
				margin: 12px clamp(0px, 4vw, 80px);
				letter-spacing: clamp(0px, 1vw, 3px);
			}

			.J_total {
				font-size: 16px;
			}

			.J_checkoutBtn {
				font-size: 14px;
				display: block;
				margin: 12px auto 0;
			}
		}

		@media (max-width:640px) {
					width: 75%;
			padding: 8px 10px 16px;	
		}
	}

/* Loading overlay (used during checkout) */
.J_cartPage.is-loading {
	position: relative;
}

.J_cartPage.is-loading::before {
	content: '';
	position: fixed;
	left: 0;
	top: 0;
	right: 0;
	bottom: 0;
	background: rgba(0,0,0,0.25);
	z-index: 2000;
}

/* loader: three dots moving along circular path */
.J_checkoutLoader {
	position: fixed;
	left: 50%;
	top: 50%;
	transform: translate(-50%, -50%);
	width: 80px;
	height: 80px;
	border-radius: 50%;
	display: grid;
	place-items: center;
	z-index: 2001;
}

.J_checkoutLoader .dot {
	position: absolute;
	width: 12px;
	height: 12px;
	background: #bdbdbd;
	border-radius: 50%;
}

.J_checkoutLoader .dot:nth-child(1) { animation: orbit 1.5s linear infinite; animation-delay: 0s; }
.J_checkoutLoader .dot:nth-child(2) { animation: orbit 1.5s linear infinite; animation-delay: 0.15s; }
.J_checkoutLoader .dot:nth-child(3) { animation: orbit 1.5s linear infinite; animation-delay: 0.3s; }

@keyframes orbit {
	0% { transform: rotate(0deg) translateX(28px) rotate(0deg); }
	25% { transform: rotate(90deg) translateX(28px) rotate(-90deg); }
	50% { transform: rotate(180deg) translateX(28px) rotate(-180deg); }
	75% { transform: rotate(270deg) translateX(28px) rotate(-270deg); }
	100% { transform: rotate(360deg) translateX(28px) rotate(-360deg); }
}
}

.J_cartPage {
	.J_cartSectionA {
		display: flex !important;
		flex-direction: row !important;
		/* row（橫向） */
		align-items: center !important;
		/* center（置中） */
		justify-content: space-between !important;
		flex-wrap: nowrap !important;
		/* nowrap（不換行） */
		gap: 16px !important;
	}

	.J_cartSectionA__left {
		display: flex !important;
		flex-direction: row !important;
		/* row（橫向） */
		align-items: center !important;
		flex-wrap: nowrap !important;
		gap: 12px !important;
		flex: 1 1 0 !important;
		min-width: 0 !important;
	}

	/* 把 checkbox（核取方塊）釘住，避免占滿一行 */
	.J_cartSectionA__left>input[type="checkbox"],
	.J_cartSectionA__left .J_storeCheck>input[type="checkbox"] {
		display: inline-block !important;
		width: 16px !important;
		height: 16px !important;
		margin: 0 !important;
		padding: 0 !important;
		flex: 0 0 auto !important;
		vertical-align: middle !important;
		/* middle（中線） */
	}

	/* icon（圖示）固定尺寸 */
	.J_cartSectionA__left>img {
		display: inline-block !important;
		width: 24px !important;
		height: 24px !important;
		object-fit: contain !important;
		flex: 0 0 auto !important;
	}

	/* 店家名稱取消 h2 預設外距，改成行內區塊 */
	.J_cartSectionA__left .J_sectionTitle {
		display: inline-block !important;
		margin: 0 !important;
		padding: 0 !important;
		line-height: 1.2 !important;
		white-space: nowrap !important;
		/* nowrap（不拆行） */
	}

	/* 右側清空按鈕維持靠右 */
	.J_cartSectionA__right {
		display: flex !important;
		align-items: center !important;
		justify-content: flex-end !important;
		flex: 0 0 auto !important;
	}

	.J_clearBtn,
	.J_btnClearCart {
		border: 1px solid #cfcfcf;
		background: #f7f7f7;
		border-radius: 8px;
		padding: 6px 10px;
		font-size: 14px;
		cursor: pointer;

		&:hover {
			background: #fff;
			box-shadow: 0 1px 3px rgba(0, 0, 0, .12);
		}
	}
}